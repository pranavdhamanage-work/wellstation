import { motion } from "framer-motion";
import { useAtomValue } from "jotai";
import { isFullSizeAtom } from "../../atoms";
import { FULL_SIZES, HALF_SIZES } from "../../atoms/sd";
const SoundWaveAnimation = ({ direction = "left-to-right" }) => {
  const isFullSize = useAtomValue(isFullSizeAtom);
  const SIZES = isFullSize ? FULL_SIZES : HALF_SIZES;

  const paths = [
    "M140.467 66.9967C140.467 69.5645 138.385 71.6462 135.817 71.6462C133.249 71.6462 131.168 69.5645 131.168 66.9967V42.1989C131.168 39.6311 133.249 37.5494 135.817 37.5494C138.385 37.5494 140.467 39.6311 140.467 42.1989V66.9967Z",
    "M114.12 89.4701C116.688 89.4701 118.77 87.3884 118.77 84.8205V24.3761C118.77 21.8083 116.688 19.7265 114.12 19.7265C111.552 19.7265 109.47 21.8083 109.47 24.3761V84.8205C109.47 87.3884 111.552 89.4701 114.12 89.4701Z",
    "M97.0703 66.9967C97.0703 69.5645 94.9885 71.6462 92.4207 71.6462C89.8529 71.6462 87.7712 69.5645 87.7712 66.9967V42.1989C87.7712 39.6311 89.8529 37.5494 92.4207 37.5494C94.9885 37.5494 97.0703 39.6311 97.0703 42.1989V66.9967Z",
    "M70.7235 89.4701C73.2913 89.4701 75.373 87.3884 75.373 84.8205V24.3761C75.373 21.8083 73.2913 19.7265 70.7235 19.7265C68.1556 19.7265 66.0739 21.8083 66.0739 24.3761V84.8205C66.0739 87.3884 68.1556 89.4701 70.7235 89.4701Z",
    "M53.6758 104.445C53.6758 106.874 51.594 108.843 49.0262 108.843C46.4584 108.843 44.3766 106.874 44.3766 104.445L44.3766 4.75135C44.3766 2.32235 46.4584 0.353111 49.0262 0.353111C51.594 0.353111 53.6758 2.32235 53.6758 4.75135L53.6758 104.445Z",
    "M27.327 89.4701C29.8949 89.4701 31.9766 87.3884 31.9766 84.8205L31.9766 24.3761C31.9766 21.8083 29.8949 19.7265 27.327 19.7265C24.7591 19.7265 22.6774 21.8083 22.6774 24.3761L22.6774 84.8205C22.6774 87.3884 24.7591 89.4701 27.327 89.4701Z",
    "M10.2793 66.9967C10.2793 69.5645 8.19753 71.6462 5.62972 71.6462C3.06192 71.6462 0.980151 69.5645 0.980151 66.9967L0.980151 42.1989C0.980151 39.6311 3.06192 37.5494 5.62972 37.5494C8.19753 37.5494 10.2793 39.6311 10.2793 42.1989L10.2793 66.9967Z",
  ];

  const getDelay = (index) => {
    return direction === "left-to-right"
      ? index * 0.3
      : direction === "right-to-left"
      ? (paths.length - 1 - index) * 0.3
      : (paths.length - 1 - index) * 0.5;
  };

  return (
    <svg
      width={SIZES[70]}
      height={SIZES[70]}
      viewBox="0 0 141 129"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      {paths.map((d, index) => (
        <motion.path
          key={index}
          d={d}
          fill="#F5DAD0"
          animate={{ fill: ["#F5DAD0", "#F5703D", "#F5DAD0"] }}
          transition={{
            delay: getDelay(index),
            duration: 2,
            repeat: Infinity,
          }}
        />
      ))}
    </svg>
  );
};

export default SoundWaveAnimation;
